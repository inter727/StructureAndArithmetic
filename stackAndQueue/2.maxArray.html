<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>返回滑动窗口最大值</title>
</head>
<body>
  给定一个数组 nums，有一个大小为 k 的滑动窗口从数组的最左侧移动到数组的最右侧。
  你只可以看到在滑动窗口 k 内的数字。滑动窗口每次只向右移动一位。 返回滑动窗口最大值。
</body>
<script>
  console.log(maxSlidingWindow([1, 3, -1, -3, 5, 3, 6, 7], 3));

  function maxSlidingWindow(nums, k) {
    if (nums.length < k || k < 1) { return [] }
    let maxArr = [], window = []
    nums.forEach((num, index, array) => {
      if (!window.length) {
        window.push(index)
        return
      }
      if (window[0] === index - k) {
        window.shift()
      }
      let len = window.length
      while(len && array[window[len - 1]] < num) {
        window.pop()
        len--
      }
      window.push(index)
      if (index >= k -1) {
        maxArr.push(array[window[0]])
      }
    })
    return maxArr
  }
</script>
</html>